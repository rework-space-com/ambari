{
  "_comment" : "Record format:",
  "_comment" : "blockedRole-blockedCommand: [blockerRole1-blockerCommand1, blockerRole2-blockerCommand2, ...]",
  "general_deps" : {
    "_comment" : "dependencies for all cases",

    "HBASE_MASTER-START": ["ZOOKEEPER_SERVER-START", "RANGER_USERSYNC-START"],
    "HBASE_MASTER-STOP": ["HBASE_REGIONSERVER-STOP"],
    "HBASE_REGIONSERVER-START": ["HBASE_MASTER-START"],
    "HBASE_SERVICE_CHECK-SERVICE_CHECK": ["HBASE_MASTER-START", "HBASE_REGIONSERVER-START"],

    "HIVE_METASTORE-START": ["MYSQL_SERVER-START", "NAMENODE-START","DATANODE-START", "RESOURCEMANAGER-START"],
    "HIVE_SERVER-START": ["NODEMANAGER-START", "MYSQL_SERVER-START", "RANGER_USERSYNC-START", "ZOOKEEPER_SERVER-START", "HIVE_METASTORE-START"],
    "HIVE_SERVER-RESTART": ["NODEMANAGER-RESTART", "MYSQL_SERVER-RESTART", "ZOOKEEPER_SERVER-RESTART"],
    "HIVE_SERVER_INTERACTIVE-START": ["RESOURCEMANAGER-START", "NODEMANAGER-START", "MYSQL_SERVER-START", "HIVE_METASTORE-START"],
    "HIVE_SERVER_INTERACTIVE-RESTART": ["NODEMANAGER-RESTART", "MYSQL_SERVER-RESTART"],
    "HIVE_SERVICE_CHECK-SERVICE_CHECK": ["HIVE_SERVER-START", "HIVE_METASTORE-START", "HIVE_SERVER_INTERACTIVE-START"],

    "KAFKA_BROKER-START" : ["ZOOKEEPER_SERVER-START", "RANGER_USERSYNC-START", "NAMENODE-START"],
    "KAFKA_SERVICE_CHECK-SERVICE_CHECK": ["KAFKA_BROKER-START"],

    "KNOX_GATEWAY-START" : ["RANGER_USERSYNC-START", "NAMENODE-START"],
    "KNOX_SERVICE_CHECK-SERVICE_CHECK" : ["KNOX_GATEWAY-START"],

    "LIVY_SERVER-START" : ["NAMENODE-START", "DATANODE-START", "APP_TIMELINE_SERVER-START"],
    "SPARK2_LIVY2_SERVER-START" : ["NAMENODE-START", "DATANODE-START", "APP_TIMELINE_SERVER-START"],
    "SPARK3_LIVY2_SERVER-START" : ["NAMENODE-START", "DATANODE-START", "APP_TIMELINE_SERVER-START"],

    "MAPREDUCE_SERVICE_CHECK-SERVICE_CHECK": ["NODEMANAGER-START", "RESOURCEMANAGER-START"],

    "NAMENODE-STOP": ["HIVE_SERVER_INTERACTIVE-STOP"],

    "NODEMANAGER-STOP": ["HIVE_SERVER_INTERACTIVE-STOP"],

    "OOZIE_SERVER-START": ["NODEMANAGER-START", "RESOURCEMANAGER-START"],
    "OOZIE_SERVICE_CHECK-SERVICE_CHECK": ["OOZIE_SERVER-START", "MAPREDUCE2_SERVICE_CHECK-SERVICE_CHECK"],

    "PHOENIX_QUERY_SERVER-START": ["HBASE_MASTER-START"],

    "PXF-START" : ["NAMENODE-START", "DATANODE-START"],
    "PXF_SERVICE_CHECK-SERVICE_CHECK" : ["PXF-START", "HDFS_SERVICE_CHECK-SERVICE_CHECK", "HBASE_SERVICE_CHECK-SERVICE_CHECK", "HIVE_SERVICE_CHECK-SERVICE_CHECK"],

    "RANGER_ADMIN-START": ["ZOOKEEPER_SERVER-START", "INFRA_SOLR-START"],
    "RANGER_USERSYNC-START" : ["RANGER_ADMIN-START"],
    "RANGER_KMS_SERVER-START" : ["RANGER_ADMIN-START"],
    "RANGER_KMS_SERVICE_CHECK-SERVICE_CHECK" : ["RANGER_KMS_SERVER-START"],
    "RANGER_SERVICE_CHECK-SERVICE_CHECK" : ["RANGER_USERSYNC-START", "RANGER_ADMIN-START"],

    "RESOURCEMANAGER-START" : ["RANGER_USERSYNC-START"],
    "RESOURCEMANAGER-STOP": ["HIVE_SERVER_INTERACTIVE-STOP", "SPARK_THRIFTSERVER-STOP", "SPARK2_THRIFTSERVER-STOP"],


    "SPARK_SERVICE_CHECK-SERVICE_CHECK" : ["SPARK_JOBHISTORYSERVER-START", "LIVY_SERVER-START", "SPARK_THRIFTSERVER-START"],
    "SPARK2_SERVICE_CHECK-SERVICE_CHECK" : ["SPARK2_JOBHISTORYSERVER-START", "SPARK2_LIVY2_SERVER-START", "SPARK2_THRIFTSERVER-START"],
    "SPARK_THRIFTSERVER-START" : ["HIVE_METASTORE-START", "HIVE_SERVER-START"],
    "SPARK3_SERVICE_CHECK-SERVICE_CHECK" : ["SPARK3_JOBHISTORYSERVER-START", "SPARK3_LIVY2_SERVER-START", "SPARK3_THRIFTSERVER-START"],
    "SPARK3_JOBHISTORYSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_METASTORE-START"],
    "SPARK3_THRIFTSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_SERVER-START"],
    "FLINK_SERVICE_CHECK-SERVICE_CHECK" : ["FLINK_JOBHISTORYSERVER-START"],
    "FLINK_JOBHISTORYSERVER-START" : ["NAMENODE-START", "DATANODE-START"],

    "OZONE_MANAGER-START": ["OZONE_STORAGE_CONTAINER_MANAGER-START", "OZONE_DATANODE-START","RANGER_USERSYNC-START"],
    "OZONE_STORAGE_CONTAINER_MANAGER-STOP": ["OZONE_DATANODE-STOP"],
    "OZONE_MANAGER-STOP": ["OZONE_RECON-STOP"],
    "OZONE_S3_GATEWAY-START": ["OZONE_MANAGER-START"],
    "OZONE_DATANODE-START": [ "DATANODE-START"],
    "OZONE_DATANODE-STOP": ["DATANODE-STOP"],
    "OZONE_RECON-START": ["OZONE_MANAGER-START"],
    "OZONE_SERVICE_CHECK-SERVICE_CHECK": ["OZONE_MANAGER-START", "OZONE_STORAGE_CONTAINER_MANAGER-START", "OZONE_DATANODE-START"],

    "SQOOP_SERVICE_CHECK-SERVICE_CHECK": ["NODEMANAGER-START", "RESOURCEMANAGER-START"],

    "TEZ_SERVICE_CHECK-SERVICE_CHECK": ["NODEMANAGER-START", "HISTORYSERVER-START"],
    "TIMELINE_READER-START": ["ZOOKEEPER_SERVER-START", "NAMENODE-START", "DATANODE-START"],

    "ZOOKEEPER_SERVICE_CHECK-SERVICE_CHECK": ["ZOOKEEPER_SERVER-START"],
    "ZOOKEEPER_SERVER-STOP" : ["HBASE_MASTER-STOP", "HBASE_REGIONSERVER-STOP", "METRICS_COLLECTOR-STOP"],
    "ZOOKEEPER_QUORUM_SERVICE_CHECK-SERVICE_CHECK": ["ZOOKEEPER_SERVER-START"]
  },
  "_comment" : "Dependencies that are used in HA NameNode cluster",
  "namenode_optional_ha": {
    "NAMENODE-START": ["ZKFC-START", "JOURNALNODE-START", "ZOOKEEPER_SERVER-START"],
    "ZKFC-START": ["ZOOKEEPER_SERVER-START"],
    "ZKFC-STOP": ["NAMENODE-STOP"],
    "JOURNALNODE-STOP": ["NAMENODE-STOP"]
  },
  "_comment" : "Dependencies that are used in ResourceManager HA cluster",
  "resourcemanager_optional_ha" : {
    "RESOURCEMANAGER-START": ["ZOOKEEPER_SERVER-START"]
  },
  "_comment" : "Dependencies that are used when GLUSTERFS is not present in cluster",
  "optional_no_glusterfs": {
    "AMBARI_METRICS_SERVICE_CHECK-SERVICE_CHECK": ["METRICS_COLLECTOR-START", "HDFS_SERVICE_CHECK-SERVICE_CHECK"],
    "APP_TIMELINE_SERVER-START": ["NAMENODE-START", "DATANODE-START"],
    "DATANODE-START" : ["RANGER_USERSYNC-START"],
    "DATANODE-STOP": ["RESOURCEMANAGER-STOP", "NODEMANAGER-STOP", "HISTORYSERVER-STOP", "HBASE_MASTER-STOP"],
    "FALCON_SERVER-START": ["NAMENODE-START", "DATANODE-START"],
    "FALCON_SERVICE_CHECK-SERVICE_CHECK": ["FALCON_SERVER-START"],
    "HBASE_MASTER-START": ["NAMENODE-START", "DATANODE-START"],
    "HDFS_SERVICE_CHECK-SERVICE_CHECK": ["NAMENODE-START", "DATANODE-START", "SECONDARY_NAMENODE-START"],
    "HISTORYSERVER-START": ["NAMENODE-START", "DATANODE-START"],
    "HIVE_SERVER-START": ["DATANODE-START"],
    "MAPREDUCE2_SERVICE_CHECK-SERVICE_CHECK": ["NODEMANAGER-START", "RESOURCEMANAGER-START", "HISTORYSERVER-START", "YARN_SERVICE_CHECK-SERVICE_CHECK"],
    "METRICS_COLLECTOR-START": ["NAMENODE-START", "DATANODE-START", "SECONDARY_NAMENODE-START", "ZOOKEEPER_SERVER-START"],
    "METRICS_COLLECTOR-STOP": ["METRICS_GRAFANA-STOP"],
    "METRICS_GRAFANA-START": ["METRICS_COLLECTOR-START"],
    "NAMENODE-START" : ["RANGER_USERSYNC-START"],
    "NAMENODE-STOP": ["RESOURCEMANAGER-STOP", "NODEMANAGER-STOP", "HISTORYSERVER-STOP", "HBASE_MASTER-STOP", "METRICS_COLLECTOR-STOP"],
    "TIMELINE_READER-START": ["ZOOKEEPER_SERVER-START", "NAMENODE-START", "DATANODE-START"],
    "NODEMANAGER-START": ["NAMENODE-START", "DATANODE-START", "RESOURCEMANAGER-START"],
    "RESOURCEMANAGER-START": ["NAMENODE-START", "DATANODE-START"],
    "RESOURCEMANAGER_SERVICE_CHECK-SERVICE_CHECK": ["RESOURCEMANAGER-START"],
    "SECONDARY_NAMENODE-RESTART": ["NAMENODE-RESTART"],
    "SECONDARY_NAMENODE-START": ["NAMENODE-START"],
    "SPARK_JOBHISTORYSERVER-START" : ["NAMENODE-START"],
    "SPARK2_JOBHISTORYSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_METASTORE-START"],
    "SPARK2_THRIFTSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_SERVER-START"],
    "SPARK3_JOBHISTORYSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_METASTORE-START"],
    "SPARK3_THRIFTSERVER-START" : ["NAMENODE-START", "DATANODE-START", "HIVE_SERVER-START"],
    "FLINK_HISTORYSERVER-START" : ["NAMENODE-START", "DATANODE-START"],
    "YARN_SERVICE_CHECK-SERVICE_CHECK": ["NODEMANAGER-START", "RESOURCEMANAGER-START"]
  },
  "_comment" : "GLUSTERFS-specific dependencies",
  "optional_glusterfs": {
    "HBASE_MASTER-START": ["PEERSTATUS-START"],
    "GLUSTERFS_SERVICE_CHECK-SERVICE_CHECK": ["PEERSTATUS-START"]
  }
}
